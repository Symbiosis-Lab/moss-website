# The First Website

## The Problem We Faced

moss needed to prove its core promise: any folder should become a website with zero configuration. But we had no working pipeline - just ideas about markdown transformation and local serving.

The challenge was building the simplest possible end-to-end workflow: folder → HTML → browser. If this didn't work elegantly, nothing else would matter.

## What We Tried

We started with the most basic test case: three markdown files in `test-content/simple-blog/`. Transform them into browsable HTML, serve locally, open automatically in the browser.

## The Pipeline

The workflow came together quickly:

1. Scan directory for markdown files
2. Parse with pulldown-cmark (fast, spec-compliant)
3. Generate HTML with minimal styling
4. Serve via embedded Axum server
5. Open in default browser

## Key Decision: Real HTTP Server

We could have used file:// URLs, but that felt wrong. CORS restrictions would break things. Relative paths wouldn't work. The preview wouldn't match deployment behavior.

Axum gave us a real HTTP server in about 50 lines of Rust. Now the preview behaves exactly like the deployed site. No surprises.

## The Insight

The real breakthrough wasn't technical - it was experiential. When the browser opened showing the transformed blog, we saw the symbiosis we'd envisioned: human-friendly folder structure + machine-friendly web format = seamless publishing.

This validated moss's fundamental premise: preserve human organization patterns while enabling digital sharing.

## What We Built

**Technical Foundation:**
- Content scanning that finds markdown files
- Fast, correct markdown parsing  
- HTML generation with sensible defaults
- Local HTTP server with automatic port detection
- Cross-platform browser opening

**User Experience Proof:**
- Write markdown in familiar folders → Get shareable website
- No configuration, build tools, or learning curve
- Instant feedback via browser preview

## Trade-offs Made

**Real HTTP Server vs File URLs**: We chose Axum embedded server over file:// URLs. This added complexity but eliminated CORS issues and made preview behavior match deployment reality.

**Markdown Parser**: pulldown-cmark over alternatives for CommonMark compliance and Rust integration, even though it required more dependency weight.

## Future Implications

This working pipeline establishes moss's core architecture: folder analysis → content transformation → local serving. All future features (Finder integration, themes, publishing) build on this foundation.

The success proves that complex publishing workflows can have simple interfaces - a principle that guides all subsequent design decisions.

---

_Technical references:_

- _[Axum](https://github.com/tokio-rs/axum) - Rust web framework for embedded HTTP server_
- _[pulldown-cmark](https://github.com/raphlinus/pulldown-cmark) - CommonMark parser for markdown transformation_
- _[Tauri Opener Plugin](https://v2.tauri.app/plugin/opener/) - Cross-platform URL and file opening in Tauri v2_
